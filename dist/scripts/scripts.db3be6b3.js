"use strict";angular.module("wbTestApp",["ngCookies","ngResource","ngRoute","ngSanitize"]).constant("apiKeys",{walmart:"62j6vdngxjwdyjbj54kr4yh9"}).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/products.html",controller:"ProductsCtrl"}).when("/products/:productId",{templateUrl:"views/product.html",controller:"ProductCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("wbTestApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("wbTestApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("wbTestApp").controller("ProductsCtrl",["$scope","$http","apiKeys",function(a,b,c){a.hasSearched=!1;var d=function(a){return a=a,!0};a.getProducts=function(e){d(e)&&b.jsonp("http://api.walmartlabs.com/v1/search?apiKey="+c.walmart+"&query="+e+"&numItems=20&callback=JSON_CALLBACK").then(function(b){console.log("success!"),console.log(b),a.products=b.data.items,a.productTotal=b.data.totalResults,a.hasSearched=!0},function(b){console.log("error"),console.log(b),a.hasSearched=!0})}}]),angular.module("wbTestApp").controller("ProductCtrl",["$scope","$http","$routeParams","apiKeys",function(a,b,c,d){a.product={},a.reviews=[],a.isLoaded=!1,a.hasError=!1;var e=function(){b.jsonp("http://api.walmartlabs.com/v1/items/"+c.productId+"?apiKey="+d.walmart+"&format=json&callback=JSON_CALLBACK").then(function(b){console.log(b.data),a.product=b.data,a.isLoaded=!0},function(b){console.log(b.data),a.hasError=!0,a.isLoaded=!0})},f=function(){e()};a.getReviews=function(){b.jsonp("http://api.walmartlabs.com/v1/reviews/"+c.productId+"?apiKey="+d.walmart+"&format=json&callback=JSON_CALLBACK").then(function(b){console.log(b.data),a.reviews=b.data.reviews},function(a){console.log(a.data)})},f()}]),angular.module("wbTestApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.8cb970fb.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>'),a.put("views/product.html",'<div class="row"> <p ng-if="!isLoaded">Loading...</p> <div class="product-details" ng-if="isLoaded"> <h1>{{product.name}}</h1> <img src="{{product.mediumImage}}" alt="" class="pull-left"> <h3>Details</h3> <p><strong>Price:</strong> {{product.salePrice | currency}}</p> <p><strong>Brand:</strong> {{product.brandName}}</p> <p><strong>Model #:</strong> {{product.modelNumber}}</p> <p><strong>Description: </strong> {{product.shortDescription}}</p> <p><a ng-click="getReviews()">Reviews</a></p> <table class="table" ng-if="reviews.length"> <thead> <th>Overall Rating</th> <th>Title</th> <th>Review Text</th> </thead> <tbody> <tr ng-repeat="review in reviews"> <td>{{review.overallRating.rating}}</td> <td>{{review.title}}</td> <td>{{review.reviewText}}</td> </tr> </tbody> </table> </div> </div>'),a.put("views/products.html",'<div class="row"> <div class="product-search-input"> <div class="col-md-6 col-md-offset-3"> <div class="form-inline"> <div class="form-group"> <input type="text" class="form-control" ng-model="productQuery"> </div> <button type="submit" class="btn btn-primary" ng-click="getProducts(productQuery)">Search</button> </div> </div> </div> <div class="product-search-results" ng-if="hasSearched"> <p ng-if="products.length">Total Results: {{productTotal}}</p> <table class="table table-hover" ng-if="products.length"> <thead> <tr> <th></th> <th>Product Name</th> <th>Price</th> </tr> </thead> <tbody> <tr ng-repeat="product in products"> <td><img src="{{product.thumbnailImage}}" alt=""></td> <td><a href="#/products/{{product.itemId}}">{{product.name}}</a></td> <td>{{product.salePrice | currency}}</td> </tr> </tbody> </table> <div class="product-search-empty" ng-if="!products.length"> <p>No products matched your search!</p> </div> </div> </div>')}]);